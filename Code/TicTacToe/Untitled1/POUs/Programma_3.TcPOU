<?xml version="1.0" encoding="utf-8"?>
<TcPlcObject Version="1.1.0.1" ProductVersion="3.1.4024.12">
  <POU Name="Programma_3" Id="{70a6b97a-964e-4e36-9a7b-67e0026594f5}" SpecialFunc="None">
    <Declaration><![CDATA[PROGRAM Programma_3
VAR
    winCondition: BOOL;
END_VAR
]]></Declaration>
    <Implementation>
      <ST><![CDATA[// task 3: 
IF GVL.game_status = 2 THEN  // Wincheck fase
    // Controleer of er een winnaar is
    IF (GVL.Driehoek_1 AND GVL.Driehoek_2 AND GVL.Driehoek_3) OR
       (GVL.Driehoek_4 AND GVL.Driehoek_5 AND GVL.Driehoek_6) OR
       (GVL.Driehoek_7 AND GVL.Driehoek_8 AND GVL.Driehoek_9) OR
       (GVL.Driehoek_1 AND GVL.Driehoek_4 AND GVL.Driehoek_7) OR
       (GVL.Driehoek_2 AND GVL.Driehoek_5 AND GVL.Driehoek_8) OR
       (GVL.Driehoek_3 AND GVL.Driehoek_6 AND GVL.Driehoek_9) OR
       (GVL.Driehoek_1 AND GVL.Driehoek_5 AND GVL.Driehoek_9) OR
       (GVL.Driehoek_3 AND GVL.Driehoek_5 AND GVL.Driehoek_7) THEN
        // Speler 1 heeft gewonnen
        GVL.winnaar := 1;
        GVL.Player_1_Lamp := TRUE;
        GVL.game_status := 3;  // Zet status naar "gewonnen"
        
    ELSIF (GVL.Rondje_1 AND GVL.Rondje_2 AND GVL.Rondje_3) OR
           (GVL.Rondje_4 AND GVL.Rondje_5 AND GVL.Rondje_6) OR
           (GVL.Rondje_7 AND GVL.Rondje_8 AND GVL.Rondje_9) OR
           (GVL.Rondje_1 AND GVL.Rondje_4 AND GVL.Rondje_7) OR
           (GVL.Rondje_2 AND GVL.Rondje_5 AND GVL.Rondje_8) OR
           (GVL.Rondje_3 AND GVL.Rondje_6 AND GVL.Rondje_9) OR
           (GVL.Rondje_1 AND GVL.Rondje_5 AND GVL.Rondje_9) OR
           (GVL.Rondje_3 AND GVL.Rondje_5 AND GVL.Rondje_7) THEN
        // Speler 2 heeft gewonnen
        GVL.winnaar := 2;
        GVL.Player_2_Lamp := TRUE;
        GVL.game_status := 3;  // Zet status naar "gewonnen"
        
    ELSE
        // Als er geen winnaar is, controleer dan of het gelijkspel is
        IF (GVL.Driehoek_1 OR GVL.Rondje_1) AND
           (GVL.Driehoek_2 OR GVL.Rondje_2) AND
           (GVL.Driehoek_3 OR GVL.Rondje_3) AND
           (GVL.Driehoek_4 OR GVL.Rondje_4) AND
           (GVL.Driehoek_5 OR GVL.Rondje_5) AND
           (GVL.Driehoek_6 OR GVL.Rondje_6) AND
           (GVL.Driehoek_7 OR GVL.Rondje_7) AND
           (GVL.Driehoek_8 OR GVL.Rondje_8) AND
           (GVL.Driehoek_9 OR GVL.Rondje_9) THEN
            // Het is gelijkspel
            GVL.game_status := 4;  // Zet status naar gelijkspel
        ELSE
            // Er zijn nog lege vakken, geen gelijkspel
            GVL.game_status := 1;  // Ga terug naar de beurtfase
        END_IF
    END_IF
END_IF]]></ST>
    </Implementation>
    <LineIds Name="Programma_3">
      <LineId Id="709" Count="46" />
      <LineId Id="5" Count="0" />
    </LineIds>
  </POU>
</TcPlcObject>